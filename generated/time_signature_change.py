from midiutil import MIDIFile
midi = MIDIFile(2)
midi.addTempo(0, 0, 110)
time_signature = ( 4 ,  4 )
midi.addTimeSignature(0, 0, *time_signature, 24)
midi.addProgramChange(0, 0, 0, 32)
midi.addNote(0, 0, 43,4 , 1.0, 90)
midi.addNote(0, 0, 46,5 , 1.0, 90)
midi.addNote(0, 0, 45,6 , 1.0, 90)
midi.addNote(0, 0, 47,7 , 1.0, 90)
midi = MIDIFile(2)
midi.addTempo(1, 0, 110)
time_signature = ( 3 ,  4 )
midi.addTimeSignature(1, 0, *time_signature, 24)
midi.addProgramChange(1, 0, 0, 9)
midi.addNote(1, 9, 42,16 ,1, 90)
midi.addNote(1, 9, 36,17 , 1.0, 90)
midi.addNote(1, 9, 42,18 , 1.0, 90)
midi.addNote(1, 9, 42,19 ,1, 90)
midi.addNote(1, 9, 36,20 , 1.0, 90)
midi.addNote(1, 9, 42,21 , 1.0, 90)
midi.addNote(1, 9, 42,22 ,1, 90)
midi.addNote(1, 9, 36,23 , 1.0, 90)
midi.addNote(1, 9, 42,24 , 1.0, 90)
midi.addNote(1, 9, 42,25 ,1, 90)
midi.addNote(1, 9, 36,26 , 1.0, 90)
midi.addNote(1, 9, 42,27 , 1.0, 90)
with open("./output/time_signature_change.mid", "wb") as output_file:
   midi.writeFile(output_file)
